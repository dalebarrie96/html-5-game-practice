<!doctype html>
<html>
<head>
<title>Dale Barrie HTML5 Game testing</title>

<script src="javascript/jquery-3.2.1.min.js"></script>
<script src="javascript/jquery.hotkeys.js"></script>
<script src="javascript/key_status.js"></script>
</head>
<body>
<h1>Dale Barrie HTML5 game testing</h1>

<script>
/////////////////////////////////////////////////////////////////
//////Canvis stuff//////////////////////////////////////////////
////////////////////////////////////////////////////////////////
var CANVAS_WIDTH = 480;
var CANVAS_HEIGHT = 320;

var canvasElement = $("<canvas width='" + CANVAS_WIDTH + "' height='" + CANVAS_HEIGHT + "'></canvas>");

var canvas = canvasElement.get(0).getContext("2d");

canvasElement.appendTo('body');

/////////////////////////////////////////////////////////////////
/////////////game loop - fps stuff//////////////////////////////
////////////////////////////////////////////////////////////////

var FPS = 30;
setInterval(function(){
update();
draw();
}, 1000/FPS);

var player = {
	color: "#00A",
	x: 220,
	y: 270,
	width: 32,
	height: 32,
	draw: function(){
		canvas.fillStyle = this.color;
		canvas.fillRect(this.x, this.y, this.width, this.height);
	}
};

function update(){
	if(keydown.left){
		player.x -= 2;
	}
	
	if(keydown.right){
		player.x += 2;
	}
}

function draw(){
  canvas.clearRect(0,0, CANVAS_HEIGHT, CANVAS_WIDTH);
  player.draw();
}
</script>
</body>
</html>